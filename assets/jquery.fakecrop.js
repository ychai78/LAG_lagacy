!function(a){var b={ratio:function(a){var b=a.item,c=a.settings;return{w:b.width()/c.wrapperWidth,h:b.height()/c.wrapperHeight}},center:function(a,b){return parseInt((a-b)/2,10)},scaleToFill:function(a){var b=a.item,c=a.settings,d=c.ratio,e=b.width(),f=b.height(),g={top:0,left:0};return d.h>d.w?(e=c.wrapperWidth,f/=d.w,c.center&&(g.top=(c.wrapperHeight-f)/2)):(f=c.wrapperHeight,e/=d.h,c.center&&(g.left=(c.wrapperWidth-e)/2)),c.center&&(a.wrapper.css("position","relative"),b.css({position:"absolute",top:g.top+"px",left:g.left+"px"})),b.height(f).attr("height",f+"px").width(e).attr("width",e+"px")},scaleToFit:function(a){var b=a.item,c=a.settings,d=c.ratio,e=b.width(),f=b.height(),g={top:0,left:0};return d.h>d.w?(f=c.wrapperHeight,e=parseInt(b.width()*c.wrapperHeight/b.height(),10),c.center&&(g.left=(c.wrapperWidth-e)/2)):(f=parseInt(b.height()*c.wrapperWidth/b.width(),10),e=c.wrapperWidth,c.center&&(g.top=(c.wrapperHeight-f)/2)),a.wrapper.css({width:(c.squareWidth?c.wrapperWidth:e)+"px",height:c.wrapperHeight+"px"}),c.center&&(a.wrapper.css("position","relative"),b.css({position:"absolute",top:g.top+"px",left:g.left+"px"})),b.height(f).attr("height",f+"px").width(e).attr("width",e+"px")},init:function(c){var d=a.extend({wrapperSelector:null,wrapperWidth:100,wrapperHeight:100,autoGetWidth:!0,ratioWrapper:null,widthSelector:null,center:!0,fill:!0,initClass:"fc-init",doneEvent:"fakedropdone",squareWidth:!0},c),e=function(){d.autoGetWidth&&(d.wrapperWidth=a(d.widthSelector).width(),d.wrapperHeight=d.wrapperWidth*d.ratioWrapper.ratio_height/d.ratioWrapper.ratio_width);var c=a(this),e=d.wrapperSelector?c.closest(d.wrapperSelector):c.parent(),f={item:c,settings:d,wrapper:e};d.ratio=b.ratio(f),d.fill?(e.css({overflow:"hidden",width:d.wrapperWidth+"px",height:d.wrapperHeight+"px"}),b.scaleToFill(f)):b.scaleToFit(f),c.data("fc.settings",d).addClass(d.initClass).trigger(d.doneEvent)},f=this.filter("img"),g=this.filter(":not(img)");return f.length&&f.bind("load",function(){e.call(this),this.style.display="inline"}).each(function(){if(this.complete||void 0===this.complete){var a=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.src=a,this.style.display="none"}}),g.length&&g.each(e),this}};a.fn.fakecrop=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery.fakecrop"):b.init.apply(this,arguments)}}(jQuery);