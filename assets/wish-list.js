function postToWishlist(){$("#wish-list").submit(function(a){a.preventDefault();var b=$(this).serializeArray(),c=$(this).attr("action");$.ajax({url:c,type:"POST",data:b,success:function(a,b){console.log(b),$(".js-wish-list").empty().html('<p>This product is in your <a href="/pages/wish-list">wishlist</a></p>')},error:function(){$(this).append("<p>I'm afraid that didn't work.</p>")}})})}function removeFromWishlist(a){var b=a.closest("tr"),c=b.attr("id"),d=$("#remove");$("#remove-value").attr("value",c);var e=d.serializeArray(),f=d.attr("action");$.ajax({url:f,type:"POST",data:e,success:function(a,c){console.log(c),b.remove(),0==$("ul.wishlist tr").length?$("#wishlist-email-link").empty().html("<p>Your wish list is currently empty.</p>"):updateEmailList()},error:function(){$(this).append("<p>I'm afraid that didn't work.</p>")}})}function updateEmailList(){var a=window.location.protocol+"//"+window.location.host+window.location.pathname;$.ajax({url:a,type:"GET",success:function(a,b){console.log(b);var c=$(a).find("#wishlist-email-link a");$("#wishlist-email-link").html(c)}})}function selectCallback(a,b){var c=$(".js-wish-list"),d=window.location.protocol+"//"+window.location.host+window.location.pathname,e=d+"?variant="+a.id;$.ajax({type:"GET",url:e,success:function(a){c.empty();var b=$(a).find(".js-wish-list").html();c.html(b),postToWishlist()}})}$(".js-remove-button").on("click",function(a){a.preventDefault(),removeFromWishlist($(this))}),$(".js-add-to-cart").on("click",function(a){a.preventDefault(),variantID=$(this).attr("data-id"),$("#product-select").attr("value",variantID),removeFromWishlist($(this)),$("#add-variant").submit()});